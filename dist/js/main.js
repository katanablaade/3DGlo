(()=>{"use strict";(()=>{const e=document.getElementById("timer-hours"),t=document.getElementById("timer-minutes"),a=document.getElementById("timer-seconds"),l=()=>{const l=(()=>{const e=(new Date("31 december 2024").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60).toString().padStart(2,"0"),minutes:Math.floor(e/60%60).toString().padStart(2,"0"),seconds:Math.floor(e%60).toString().padStart(2,"0")}})();l.timeRemaining<0?(e.textContent="00",t.textContent="00",a.textContent="00",clearInterval(o)):(e.textContent=l.hours,t.textContent=l.minutes,a.textContent=l.seconds)},o=setInterval(l,1e3);l()})(),(()=>{const e=document.querySelector("menu"),t=e.querySelectorAll("ul>li>a"),a=document.querySelector('a[href="#service-block"]'),l=document.querySelector("body");(()=>{const o=()=>{e.classList.toggle("active-menu")},r=e=>{e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})};l.addEventListener("click",(l=>{if(l.target.closest(".menu"))o();else{if(l.target.closest('a[href="#service-block"')){l.preventDefault();const e=a.getAttribute("href"),t=document.querySelector(e);r(t)}l.target.closest(".close-btn")?o():(l.target.closest("menu")||e.classList.remove("active-menu"),l.target.closest("ul>li>a")&&(l.preventDefault(),t.forEach((e=>{const t=l.target.closest("ul>li>a");if(e===t){const e=t.getAttribute("href"),a=document.querySelector(e);r(a),o()}}))))}}))})()})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn");let a,l=0;const o=()=>{l+=.05,a=requestAnimationFrame(o),l<1?e.style.opacity=l:cancelAnimationFrame(a)},r=()=>{l-=.05,e.style.opacity=l,l>0?a=requestAnimationFrame(r):(e.style.display="none",cancelAnimationFrame(a))};t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block",l=0,document.documentElement.clientWidth>768&&requestAnimationFrame(o)}))})),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(document.documentElement.clientWidth>768?(l=1,requestAnimationFrame(r)):e.style.display="none")}))})(),(()=>{const e=document.querySelectorAll('input[type="text"].calc-item'),t=document.querySelectorAll('input[name="user_name"]'),a=document.querySelectorAll('input[name="user_email"]'),l=document.querySelectorAll('input[name="user_phone"]'),o=document.querySelector('input[name="user_message"]');e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/,"")}))})),t.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^а-яА-Я- ]+/g,""),e.value=e.value.replace(/ +/g," "),e.value=e.value.replace(/-+/g,"-"),e.value=e.value.replace(/^[ -]+|[ -]+$/g,""),e.value=e.value.replace(/([а-яА-Я]{1})([а-яА-Я]*)/g,((e,t,a)=>t.toUpperCase()+a.toLowerCase()))}))})),a.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^@\-_.!~*'\w]+/,""),e.value=e.value.replace(/-+/g,"-"),e.value=e.value.replace(/^[ -]+|[ -]+$/g,"")}))})),l.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^()\-\d]+/,""),e.value=e.value.replace(/-+/g,"-"),e.value=e.value.replace(/^[ -]+|[ -]+$/g,"")}))})),o.addEventListener("blur",(()=>{o.value=o.value.replace(/[^а-яА-Я- ]+/g,""),o.value=o.value.replace(/ +/g," "),o.value=o.value.replace(/-+/g,"-"),o.value=o.value.replace(/^[ -]+|[ -]+$/g,"")}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),a=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const l=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===l?(e.classList.add("active"),a[t].classList.remove("d-none")):(e.classList.remove("active"),a[t].classList.add("d-none"))}))}}))})(),(e=>{const t=document.querySelector(e.sliderBlock),a=document.querySelectorAll(e.slide),l=document.querySelector(e.dotsBlock),o=e.activeSlide||"slide-active";let r,c,n=0;if(!t)return;if(0===a.length)return;const s=(e,t,a)=>{r=document.querySelectorAll(".dot"),e[t].classList.remove(a)},u=(e,t,a)=>{e[t].classList.add(a)},i=()=>{s(a,n,o),s(r,n,"dot-active"),n++,n>=a.length&&(n=0),u(a,n,o),u(r,n,"dot-active")},d=(e=1500)=>{c=setInterval(i,e)};t.addEventListener("click",(t=>{t.preventDefault(),t.target.matches(`.dot, ${e.buttonsBlock}`)&&(s(a,n,o),s(r,n,"dot-active"),t.target.matches("#arrow-right")?n++:t.target.matches("#arrow-left")?n--:t.target.classList.contains("dot")&&r.forEach(((e,a)=>{t.target===e&&(n=a)})),n>=a.length&&(n=0),n<0&&(n=a.length-1),u(a,n,o),u(r,n,"dot-active"))})),t.addEventListener("mouseenter",(t=>{t.target.matches(`.dot, ${e.buttonsBlock}`)&&clearInterval(c)}),!0),t.addEventListener("mouseleave",(t=>{t.target.matches(`.dot, ${e.buttonsBlock}`)&&d(2e3)}),!0),a.forEach(((e,t)=>{const a=document.createElement("li");a.classList.add("dot"),0===t&&a.classList.add("dot-active"),l.append(a)})),d(2e3)})({sliderBlock:".portfolio-content",slide:".portfolio-item",activeSlide:"portfolio-item-active",dotsBlock:".portfolio-dots",buttonsBlock:".portfolio-btn"})})();